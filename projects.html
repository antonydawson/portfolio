<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Projects</title>
  <link rel="stylesheet" href="styles/main.css">
  <link rel="stylesheet" href="styles/proj.css">
</head>
<body>

  <div class="cover">
    <div class="portrait">Turn to landscape mode</div>
  </div>


  <div class="bg"></div>

  <header>
    <div class="header-text">About</div>
    <div><a href="mailto:antonydawson151@gmail.com"><img src="assets/mail.png" alt=""></a></div>
  </header>

  <div class="title">Projects</div>

  <div class="track-container">

    <button id="left" class="arrow left">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="-3 0 3 8">
        <path d="M 0 0 L -3 4 L 0 8" stroke="#000" stroke-width="1" fill="none"/>
      </svg>
    </button>
    
    <ul class="proj-track">
      <li class="slide current-slide"> <img src="assets-art/Portfolio 2_00001.jpg" alt=""></li>
      <li class="slide"> <img id="sphere" src="assets/BLUEBLITZ.png" alt=""></li>
      <li class="slide"> <video src="assets/sphere.MP4" alt=""></video></li>
      <li class="slide"> <img src="assets-art/Portfolio 1_00001.jpg" alt=""></li>
      <li class="slide"> <video src="assets/Final-robit.MP4" alt=""></video></li>
    </ul>

    <button id="right" class="arrow right">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="-3 0 3 8">
        <path d="M 0 0 L -3 4 L 0 8" stroke="#000" stroke-width="1" fill="none"/>
      </svg>
    </button>

  </div>

<script>

  
  const track = document.querySelector('.proj-track');
  const slides = Array.from(track.children);
  const prevButton = document.querySelector('.left');
  const nextButton = document.querySelector('.right');
  
  const slideWidth = slides[0].getBoundingClientRect().width;
  
  
  slides.forEach((slide, index) => {
    slide.style.left = slideWidth * index + 'px';
  })
  
  nextButton.addEventListener('click', e => {
    const currentSlide = track.querySelector('.current-slide');
    const nextSlide = currentSlide.nextElementSibling;
    const amountToMove = nextSlide.style.left;
    
    track.style.transform = 'translateX(-' + amountToMove + ')';
    currentSlide.classList.remove('current-slide');
    nextSlide.classList.add('current-slide');
    
  })
  
  prevButton.addEventListener('click', e => {
    const currentSlide = track.querySelector('.current-slide');
    const prevSlide = currentSlide.previousElementSibling;
    const amountToMove = prevSlide.style.left;
    
    track.style.transform = 'translateX(-' + amountToMove + ')';
    currentSlide.classList.remove('current-slide');
    prevSlide.classList.add('current-slide');
    
    console.log(prevSlide)
  })
  
  $( window ).resize(function() {
    window.location.reload();
  });

  document.addEventListener('touchstart', this.touchstart);
  document.addEventListener('touchmove', this.touchmove);

  function touchstart(e) {
      e.preventDefault()
  }

  function touchmove(e) {
      e.preventDefault()
  }
</script>

</body>
</html>